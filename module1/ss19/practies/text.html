<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form>
    <h1 style="color: red">Thêm Mới và Sửa Danh Sách Học Viên</h1>
    <label for="nameStudent">Name:</label>
    <input id="nameStudent" type="text" placeholder="Nhập Họ và Tên" maxlength="50">
    <br><Br>
    <label for="classes">Class:</label>
    <input id="classes" type="text" placeholder="C0123G1">
    <br><br>
    <label for="email">Email:</label>
    <input id="email" type="email" placeholder="@gmail.com">
    <br><br>
    <label for="dateOfBirth">BirthDay:</label>
    <input id="dateOfBirth" type="date">
    <br><br>
    <label for="gender">Giới Tính:</label>
    <select id="gender">
        <option>Nam</option>
        <option>Nữ</option>
    </select><br><br>
    <label for="module">Module</label>
    <input id="module" type="number" max="6" min="1" placeholder="Module của bạn" style="width: 120px"><br><br>
    <button type="button" id="newStudent" onclick="newStudentList()">Thêm mới danh sách</button>
    <br>
    <button type="button" id="saveUpdate" onclick="saveStudentList()">Sửa</button>
</form>
<hr>
<h1 style="color: red">Danh Sách Học Sinh</h1>
<div id="tableListStudent"></div>
<script>
    class StudentCG {
        constructor(studentName, classes, email, dateOfBirth, gender, module) {
            this.studentName = studentName;
            this.classes = classes;
            this.email = email;
            this.dateOf = dateOfBirth;
            this.genderes = gender;
            this.module = module;
        }
    }

    let student1 = new StudentCG('Trần Thanh Sơn', 'C0123G1', 'thanhson123@gmail.com', '09/11/2000', 'Nam', '01');
    let studentList = [];
    studentList.push(student1);
    displayStudentList(studentList)

    function displayStudentList(studentList) {
        let table = "<table border='1' style='border-collapse: collapse'>";
        table += "<tr>" +
            "<th>Mã Học viên</th>" +
            "<th>Tên</th>" +
            "<th>Lớp</th>" +
            "<th>Email</th>" +
            "<th>Ngày Sinh</th>" +
            "<th>Giới Tính</th>" +
            "<th>Module</th>" +
            "<th width='100px'>Thao tác</th>" +
            "</tr>"
        for (let i = 0; i < studentList.length; i++) {
            table += "<tr>" +
                "<td>" + "HV-" + (i < 9 ? "000" + (i + 1) : i < 99 ? "00" + (i + 1) : i < 999 ? "0" + (i + 1) : (i + 1)) + "</td>" +
                "<td>" + studentList[i].studentName + "</td>" +
                "<td>" + studentList[i].classes + "</td>" +
                "<td>" + studentList[i].email + "</td>" +
                "<td>" + studentList[i].dateOf + "</td>" +
                "<td>" + studentList[i].genderes + "</td>" +
                "<td>" + studentList[i].module + "</td>" +
                "<td>" + "<button onclick='updateStudent()'>Sửa</button>" +
                "<button onclick='deleteStudent()'>Delete</button>" + "</td>" +
                "</tr>"
        }

        table += "</table>"
        document.getElementById("tableListStudent").innerHTML = table;
    }

    function newStudentList() {
        let name = document.getElementById("nameStudent").value;
        let classes = document.getElementById("classes").value;
        let email = document.getElementById("email").value;
        let dateOf = document.getElementById("dateOfBirth").value;
        let gender = document.getElementById("gender").value;
        let module = document.getElementById("module").value;
        let newStudent = new StudentCG(name, classes, email, dateOf, gender, module);
        if (newStudent.studentName === "" || newStudent.classes === "" ||
            newStudent.email === "" || newStudent.dateOf === "" || newStudent.genderes === "" ||
            newStudent.module === "") {
            return false;
        }
        studentList.push(newStudent);
        displayStudentList(studentList);
        document.getElementById("nameStudent").value = ""
        document.getElementById("classes").value = ""
        document.getElementById("email").value = ""
        document.getElementById("dateOfBirth").value = ""
        document.getElementById("gender").value = ""
        document.getElementById("module").value = ""
    }

    function deleteStudent(indexStudent) {
        const comfimDelete = confirm("Bạn muốn xoá học viên: " +
            studentList[indexStudent].studentName + "ko?");
        if (comfimDelete) {
            studentList.splice(indexStudent, 1);
            displayStudentList(studentList);
            alert("Bạn đã xoá học viên");
        } else {
            alert("Bạn không xoá học viên ");
        }

    }

</script>
</body>
</html>